# Gif API
An example API using Zend Expressive.

## Setup

Start by installing the dependencies by running `composer install`.

The simplest way to run the application is to use the built-in web server in PHP. You can do so with the included `composer serve` command.

By default the application attempts to run on port 8080 which must be available and not in use on your host machine. To run on a different port either update the `serve` command in `composer.json` to specify a different port or start the PHP web server manually with `php -S localhost:8080 -t public`, replacing port 8080 with the port of your choice.

You may also like to update the base URL in the application config to use the alternative port to ensure any URLs generated by the application are correct. This can be done by placing a local config file under the `config/autoload/` directory. For convenience `config/autoload/urls.local.php` has been included and can be edited directly to override the configured base URL.

## API KEY

The API requires a key to be specified as an HTTP header called `API_KEY`. For the purpose of this example the only valid API key is `SHOWMEGIFS`.

## Query the API

An easy way to query the API from a linux host is to use `curl`.

`curl -H"API_KEY: SHOWMEGIFS" localhost:8080/`

- The `/` route will return a list of the available endpoints within the API.
- The `/random` endpoint will return a gif at random.
- The `/search/{term}` endpoint can be used to search for gifs with a particular search term. For the purpose of this demonstration there are five available hard coded search terms which will provide results. These are `ceiling`, `grumpy`, `keyboard`, `nyan` and `takeoff`.

A small number of gifs have been included for your viewing pleasure.

## Development Mode

Application configuration is cached by default to the `data/cache/` directory unless development mode is enabled. To clear the cache, run the `composer clear-config-cache` command or run the script `php bin/clear-config-cache.php` directly.

To run the application in development mode, use the `composer development-enable` command. This will disable config caching and enable the Whoops error handler.
To disable development mode, use the `composer development-disable` command.

## Tests

Unit tests may be executed with the `composer test` command.

